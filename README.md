# simple-demo

## 抖音项目服务端简单示例

具体功能内容参考飞书说明文档

工程无其他依赖，直接编译运行即可

```shell
go build && ./simple-demo
```

### 分支说明

已完成/relation/action/、/relation/follow/list/、/relation/follower/list/、/relation/friend/list/

### 目前已知的bug：

- 在用户已经关注A的情况下，在“我”-“关注”-“关注列表”中取消关注A后，返回首页后直接点进A的头像中，显示仍为“已关注”，且粉丝数不减少

- 在用户未登录app时，首页上视频作者A的头像下方有关注按钮“+”，此时登录一个已经关注过A的账号，此时视频作者A的头像下方仍然有关注按钮“+”，且点进去后为“未关注”

上述两个bug的产生原因推断为返回首页时不会自动重新请求/feed/，手动上拉刷新后即可正常。

- 用户在“我”-“关注”-“关注列表”中取消关注后，“我”页面中的关注数并未更新。

推测为前端没有对/relation/action/的StatusCode: 0值进行处理。重新登陆后可解决

- 相隔较长时间打开app后，token验证失败

重新登陆可解测试数据写在 demo_data.go 中，用于列表接口的 mock 测试

### 评论模块

